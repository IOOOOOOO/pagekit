var Editor=function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=23)}([function(t,e,i){"use strict";function n(t,e,i,n,a,r,o,s){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=i,u._compiled=!0),n&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=c):a&&(c=s?function(){a.call(this,this.$root.$options.shadowRoot)}:a),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:u}}i.d(e,"a",function(){return n})},function(t,e,i){"use strict";i.r(e);var n=i(2),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=a.a},function(t,e,i){var n=UIkit.util,a=n.$,r=n.on,o=n.addClass,s=n.closest;t.exports={props:["type","mode","value","options"],data:function(){return{editor:{},height:500,show:!1,active:0,ready:!1,content:this.value}},editors:{html:{"editor-html":i(24),"plugin-link":i(25),"plugin-image":i(27),"plugin-video":i(29),"plugin-url":i(31)},tinymce:{"editor-html":i(32),"plugin-link":i(33),"plugin-image":i(34),"plugin-video":i(35)},code:{"editor-html":i(22)}},unsplit:["html","code","textarea"],computed:{editorType:function(){return this.type||window.$pagekit.editor.editor||"textarea"},editorMode:function(){return-1!==this.$options.unsplit.indexOf(this.editorType)?"":this.mode||window.$pagekit.editor.mode||""}},created:function(){this.createEditor(),this.$on("hook:mounted",this.init)},mounted:function(){var t=this;"split"==this.editorMode&&(this.tab=UIkit.switcher(this.$refs.tab),r(this.tab.connects,"show",function(e,i){if(i!=t.tab)return!1;for(var n in i.toggles)if(s(a(i.toggles[n]),"li").classList.contains("uk-active")){t.active=n;break}}),this.tab.show(this.active))},methods:{createEditor:function(){-1!==Object.keys(this.$options.editors).indexOf(this.editorType)&&_.extend(this.$options.components,this.$options.editors[this.editorType])},init:function(){if("split"===this.editorMode){var t=this.$el.previousElementSibling||this.$el.parentNode.previousElementSibling;t&&o(t,"uk-position-absolute")}if(this.options&&this.options.height&&(this.height=this.options.height),this.$el.hasAttributes())for(var e=this.$el.attributes,i=e.length-1;i>=0;i--)"class"!=e[i].name&&(this.$refs.editor.setAttribute(e[i].name,e[i].value),this.$el.removeAttribute(e[i].name));var n=this.$options.components,a="editor-"+this.type,r=this,s=n[a]||n["editor-html"]||n["editor-textarea"];new(Vue.extend(s))({parent:this}).$on("ready",function(){_.forIn(r.$options.components,function(t){t.plugin&&new(Vue.extend(t))({parent:r})},this),"split"==r.editorMode&&r.addCode()})},addCode:function(){new(Vue.extend(this.$options.components["editor-code"]))({parent:this})}},components:{"editor-textarea":{created:function(){this.$emit("ready"),this.$set(this.$parent,"show",!0)}},"editor-code":i(22)},utils:{"image-picker":Vue.extend(i(36).default),"video-picker":Vue.extend(i(37).default),"link-picker":Vue.extend(i(38).default)},watch:{value:function(t){this.$set(this,"content",t)},content:function(t){this.$emit("input",t),this.$emit("update:editor",t)}}},Vue.component("v-editor",function(e){e(t.exports)})},function(t,e,i){"use strict";i.r(e);var n=i(4),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=a.a},function(t,e){t.exports={name:"link-preview",props:["index"],computed:{link:function(){return this.$parent.links[this.index]||{}}}}},function(t,e,i){"use strict";i.r(e);var n=i(6),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=a.a},function(t,e){t.exports={props:["index"],computed:{image:function(){return this.$parent.images[this.index]||{}}},methods:{config:function(){this.$parent.openModal(this.image)},remove:function(){this.image.replace("")}}}},function(t,e,i){"use strict";i.r(e);var n=i(8),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=a.a},function(t,e){t.exports={props:["index"],data:function(){return{imageSrc:!1,videoSrc:!1,width:"",height:""}},watch:{"video.data":{handler:"update",immediate:!0,deep:!0}},computed:{video:function(){return this.$parent.videos[this.index]||{}}},methods:{config:function(){this.$parent.openModal(this.video)},remove:function(){this.video.replace("")},update:function(t){var e;this.$set(this,"imageSrc",!1),this.$set(this,"videoSrc",!1),this.$set(this,"width",t.width||690),this.$set(this,"height",t.height||390);var i=t.src||"";(e=i.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/))?this.imageSrc="//img.youtube.com/vi/"+e[1]+"/hqdefault.jpg":i.match(/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/)?this.$http.get("http://vimeo.com/api/oembed.json",{params:{url:i},cache:10}).then(function(t){this.imageSrc=t.data.thumbnail_url}):this.videoSrc=this.$url(i)}}}},function(t,e,i){"use strict";i.r(e);var n=i(10),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=a.a},function(t,e){t.exports={name:"image-picker",data:function(){return{image:{data:{src:"",alt:""}}}},mounted:function(){this.$refs.modal.open()},methods:{selected:function(t){if(t&&!this.image.data.alt){var e=t.split("/").slice(-1)[0].replace(/\.(jpeg|jpg|png|svg|gif)$/i,"").replace(/(_|-)/g," ").trim(),i=e.charAt(0).toUpperCase();this.image.data.alt=i+e.substr(1)}},close:function(){this.$destroy(!0)},update:function(){this.$emit("select",this.image),this.$refs.modal.close()}}}},function(t,e,i){"use strict";i.r(e);var n=i(12),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=a.a},function(t,e){t.exports={name:"video-picker",data:function(){return{video:{data:{src:"",controls:!0}}}},mounted:function(){this.$refs.modal.open()},computed:{isYoutube:function(){return!!this.video.data.src&&this.video.data.src.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/)},isVimeo:function(){return!!this.video.data.src&&this.video.data.src.match(/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/)}},methods:{close:function(){this.$destroy(!0)},update:function(){this.$emit("select",this.video),this.$refs.modal.close()}}}},function(t,e,i){"use strict";i.r(e);var n=i(14),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=a.a},function(t,e){t.exports={data:function(){return{link:{link:"",txt:"",class:""}}},mounted:function(){this.$refs.modal.open()},methods:{close:function(){this.$destroy(!0)},update:function(){this.$refs.modal.close(),this.$emit("select",this.link)}}}},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["pk-editor",t.editorMode,{"uk-invisible":!t.ready&&!t.editorMode}]},["split"===t.editorMode?[i("ul",{ref:"tab",staticClass:"uk-subnav uk-flex-right",attrs:{"uk-switcher":""}},[i("li",[i("a",{attrs:{href:""}},[t._v(t._s(t._f("trans")("Visual")))])]),t._v(" "),i("li",[i("a",{attrs:{href:""}},[t._v(t._s(t._f("trans")("Code")))])])]),t._v(" "),i("ul",{staticClass:"uk-switcher",class:{"uk-invisible":!t.ready}},[i("li",{ref:"visual"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"editor",class:{"uk-invisible":!t.show},style:{height:t.height+"px"},attrs:{autocomplete:"off"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),t._v(" "),i("li",{ref:"code"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"editor-code",class:{"uk-invisible":!t.show},style:{height:t.height+"px"},attrs:{autocomplete:"off"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})])])]:[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"editor",class:{"uk-invisible":!t.show},style:{height:t.height+"px"},attrs:{autocomplete:"off"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]],2)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-modal",{ref:"modal",attrs:{closed:t.close}},[i("form",{staticClass:"uk-form-stacked",on:{submit:function(e){return e.preventDefault(),t.update(e)}}},[i("div",{staticClass:"uk-modal-header"},[i("h2",[t._v(t._s(t._f("trans")("Add Link")))])]),t._v(" "),i("div",{staticClass:"uk-modal-body"},[i("div",{staticClass:"uk-margin"},[i("label",{staticClass:"uk-form-label",attrs:{for:"form-link-title"}},[t._v(t._s(t._f("trans")("Title")))]),t._v(" "),i("div",{staticClass:"uk-form-controls"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.link.txt,expression:"link.txt"}],staticClass:"uk-width-1-1 uk-input",attrs:{id:"form-link-title",type:"text"},domProps:{value:t.link.txt},on:{input:function(e){e.target.composing||t.$set(t.link,"txt",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"uk-margin"},[i("label",{staticClass:"uk-form-label",attrs:{for:"form-link-url"}},[t._v(t._s(t._f("trans")("Url")))]),t._v(" "),i("div",{staticClass:"uk-form-controls"},[i("input-link",{attrs:{id:"form-link-url",cls:"uk-width-1-1"},model:{value:t.link.link,callback:function(e){t.$set(t.link,"link",e)},expression:"link.link"}})],1)])]),t._v(" "),i("div",{staticClass:"uk-modal-footer uk-text-right"},[i("button",{staticClass:"uk-button uk-button-text uk-margin-right uk-modal-close",attrs:{type:"button"}},[t._v(t._s(t._f("trans")("Cancel")))]),t._v(" "),i("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"submit"}},[t._v(t._s(t._f("trans")("Update")))])])])])},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-modal",{ref:"modal",attrs:{closed:t.close}},[i("form",{staticClass:" uk-form-stacked",on:{submit:function(e){return e.preventDefault(),t.update(e)}}},[i("div",{staticClass:"uk-modal-header"},[i("h2",[t._v(t._s(t._f("trans")("Add Video")))])]),t._v(" "),i("div",{staticClass:"uk-modal-body"},[i("div",{staticClass:"uk-margin"},[i("input-video",{attrs:{source:t.video.data.src},on:{"update:source":function(e){return t.$set(t.video.data,"src",e)}},model:{value:t.video.data.src,callback:function(e){t.$set(t.video.data,"src",e)},expression:"video.data.src"}})],1),t._v(" "),i("div",{staticClass:"uk-margin"},[i("label",{staticClass:"uk-form-label",attrs:{for:"form-src"}},[t._v(t._s(t._f("trans")("URL")))]),t._v(" "),i("div",{staticClass:"uk-form-controls"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.video.data.src,expression:"video.data.src"}],staticClass:"uk-width-1-1 uk-input",attrs:{id:"form-src",type:"text",debounce:"500"},domProps:{value:t.video.data.src},on:{input:function(e){e.target.composing||t.$set(t.video.data,"src",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"uk-child-width-1-2@s uk-grid-small uk-flex-bottom",attrs:{"uk-grid":""}},[i("div",[i("div",{staticClass:"uk-child-width-1-2 uk-grid-small",attrs:{"uk-grid":""}},[i("div",[i("label",{staticClass:"uk-form-label",attrs:{for:"form-src"}},[t._v(t._s(t._f("trans")("Width")))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.video.data.width,expression:"video.data.width"}],staticClass:"uk-width-1-1 uk-input",attrs:{id:"form-width",type:"text",placeholder:t._f("trans")("auto")},domProps:{value:t.video.data.width},on:{input:function(e){e.target.composing||t.$set(t.video.data,"width",e.target.value)}}})]),t._v(" "),i("div",[i("label",{staticClass:"uk-form-label",attrs:{for:"form-src"}},[t._v(t._s(t._f("trans")("Height")))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.video.data.height,expression:"video.data.height"}],staticClass:"uk-width-1-1 uk-input",attrs:{id:"form-height",type:"text",disabled:!t.isVimeo&&!t.isYoutube,placeholder:t._f("trans")("auto")},domProps:{value:t.video.data.height},on:{input:function(e){e.target.composing||t.$set(t.video.data,"height",e.target.value)}}})])])]),t._v(" "),i("div",[i("div",{staticClass:"uk-child-width-1-2 uk-grid-small uk-text-small",attrs:{"uk-grid":""}},[i("div",{staticClass:"uk-text-nowrap uk-text-truncate"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.video.data.autoplay,expression:"video.data.autoplay"}],staticClass:"uk-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.video.data.autoplay)?t._i(t.video.data.autoplay,null)>-1:t.video.data.autoplay},on:{change:function(e){var i=t.video.data.autoplay,n=e.target,a=!!n.checked;if(Array.isArray(i)){var r=t._i(i,null);n.checked?r<0&&t.$set(t.video.data,"autoplay",i.concat([null])):r>-1&&t.$set(t.video.data,"autoplay",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(t.video.data,"autoplay",a)}}}),i("span",{staticClass:"uk-margin-small-left"},[t._v(t._s(t._f("trans")("Autoplay")))])]),i("br"),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:!t.isVimeo,expression:"!isVimeo"}]},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.video.data.controls,expression:"video.data.controls"}],staticClass:"uk-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.video.data.controls)?t._i(t.video.data.controls,null)>-1:t.video.data.controls},on:{change:function(e){var i=t.video.data.controls,n=e.target,a=!!n.checked;if(Array.isArray(i)){var r=t._i(i,null);n.checked?r<0&&t.$set(t.video.data,"controls",i.concat([null])):r>-1&&t.$set(t.video.data,"controls",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(t.video.data,"controls",a)}}}),i("span",{staticClass:"uk-margin-small-left"},[t._v(t._s(t._f("trans")("Controls")))])])]),t._v(" "),i("div",{staticClass:"uk-text-nowrap uk-text-truncate"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.video.data.loop,expression:"video.data.loop"}],staticClass:"uk-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.video.data.loop)?t._i(t.video.data.loop,null)>-1:t.video.data.loop},on:{change:function(e){var i=t.video.data.loop,n=e.target,a=!!n.checked;if(Array.isArray(i)){var r=t._i(i,null);n.checked?r<0&&t.$set(t.video.data,"loop",i.concat([null])):r>-1&&t.$set(t.video.data,"loop",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(t.video.data,"loop",a)}}}),i("span",{staticClass:"uk-margin-small-left"},[t._v(t._s(t._f("trans")("Loop")))])]),i("br"),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:!t.isVimeo&&!t.isYoutube,expression:"!isVimeo && !isYoutube"}]},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.video.data.muted,expression:"video.data.muted"}],staticClass:"uk-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.video.data.muted)?t._i(t.video.data.muted,null)>-1:t.video.data.muted},on:{change:function(e){var i=t.video.data.muted,n=e.target,a=!!n.checked;if(Array.isArray(i)){var r=t._i(i,null);n.checked?r<0&&t.$set(t.video.data,"muted",i.concat([null])):r>-1&&t.$set(t.video.data,"muted",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(t.video.data,"muted",a)}}}),i("span",{staticClass:"uk-margin-small-left"},[t._v(t._s(t._f("trans")("Muted")))])])])])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isYoutube&&!t.isVimeo,expression:"!isYoutube && !isVimeo"}],staticClass:"uk-margin"},[i("label",{staticClass:"uk-form-label"},[t._v(t._s(t._f("trans")("Poster Image")))]),t._v(" "),i("div",{staticClass:"uk-form-controls"},[i("input-image",{attrs:{"input-field":!1,"input-class":"uk-form-width-large"},model:{value:t.video.data.poster,callback:function(e){t.$set(t.video.data,"poster",e)},expression:"video.data.poster"}})],1)])]),t._v(" "),i("div",{staticClass:"uk-modal-footer uk-text-right"},[i("button",{staticClass:"uk-button uk-button-text uk-margin-right uk-modal-close",attrs:{type:"button"}},[t._v(t._s(t._f("trans")("Cancel")))]),t._v(" "),i("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"submit",disabled:!t.video.data.src}},[t._v(t._s(t._f("trans")("Update")))])])])])},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-modal",{ref:"modal",attrs:{closed:t.close}},[i("form",{staticClass:" uk-form-stacked",on:{submit:function(e){return e.preventDefault(),t.update(e)}}},[i("div",{staticClass:"uk-modal-header"},[i("h2",[t._v(t._s(t._f("trans")("Add Image")))])]),t._v(" "),i("div",{staticClass:"uk-modal-body"},[i("div",{staticClass:"uk-margin"},[i("input-image",{attrs:{"input-class":"uk-width-1-1"},on:{"image:selected":t.selected},model:{value:t.image.data.src,callback:function(e){t.$set(t.image.data,"src",e)},expression:"image.data.src"}})],1),t._v(" "),i("div",{staticClass:"uk-margin"},[i("label",{staticClass:"uk-form-label",attrs:{for:"form-src"}},[t._v(t._s(t._f("trans")("URL")))]),t._v(" "),i("div",{staticClass:"uk-form-controls"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.image.data.src,expression:"image.data.src"}],staticClass:"uk-width-1-1 uk-input",attrs:{id:"form-src",type:"text",lazy:""},domProps:{value:t.image.data.src},on:{input:function(e){e.target.composing||t.$set(t.image.data,"src",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"uk-margin"},[i("label",{staticClass:"uk-form-label",attrs:{for:"form-alt"}},[t._v(t._s(t._f("trans")("Alt")))]),t._v(" "),i("div",{staticClass:"uk-form-controls"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.image.data.alt,expression:"image.data.alt"}],staticClass:"uk-width-1-1 uk-input",attrs:{id:"form-alt",type:"text"},domProps:{value:t.image.data.alt},on:{input:function(e){e.target.composing||t.$set(t.image.data,"alt",e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"uk-modal-footer uk-text-right"},[i("button",{staticClass:"uk-button uk-button-text uk-margin-right uk-modal-close",attrs:{type:"button"}},[t._v(t._s(t._f("trans")("Cancel")))]),t._v(" "),i("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"submit"}},[t._v(t._s(t._f("trans")("Update")))])])])])},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{class:t.link.class,attrs:{href:t.link.link},on:{click:function(e){return e.preventDefault(),t.$parent.openModal(t.link)}}},[t.link.txt?i("span",{domProps:{innerHTML:t._s(t.link.txt)}}):i("span",[t._v(t._s(t._f("trans")("Select Link")))]),t._v(" "),i("span",{staticClass:"pk-icon-link pk-icon-hover"})])},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.image.data.src?i("div",{staticClass:"uk-inline-clip uk-transition-toggle uk-visible-toggle"},[i("img",{attrs:{src:t.$url(t.image.data.src),alt:t.image.data.alt}}),t._v(" "),i("div",{staticClass:"uk-transition-fade uk-position-cover uk-overlay uk-overlay-default uk-flex uk-flex-center uk-flex-middle"}),t._v(" "),i("a",{staticClass:"uk-position-cover",on:{click:function(e){return e.preventDefault(),t.config(e)}}}),t._v(" "),i("div",{staticClass:"uk-card-badge pk-panel-badge uk-invisible-hover"},[i("ul",{staticClass:"uk-subnav pk-subnav-icon"},[i("li",[i("a",{directives:[{name:"confirm",rawName:"v-confirm",value:"Reset image?",expression:"'Reset image?'"}],staticClass:"pk-icon-delete pk-icon-hover",attrs:{title:t._f("trans")("Delete"),"uk-tooltip":"delay: 500"},on:{click:function(e){return e.preventDefault(),t.remove(e)}}})])])])]):i("div",{staticClass:"uk-panel uk-placeholder uk-placeholder-large uk-text-center uk-visible-hover"},[i("img",{attrs:{width:"60",height:"60",alt:t._f("trans")("Placeholder Image"),src:t.$url("app/system/assets/images/placeholder-image.svg")}}),t._v(" "),i("p",{staticClass:"uk-text-muted uk-margin-small-top"},[t._v(t._s(t._f("trans")("Add Image")))]),t._v(" "),i("a",{staticClass:"uk-position-cover",on:{click:function(e){return e.preventDefault(),t.config(e)}}}),t._v(" "),i("div",{staticClass:"uk-panel-badge pk-panel-badge uk-hidden"},[i("ul",{staticClass:"uk-subnav pk-subnav-icon"},[i("li",[i("a",{staticClass:"pk-icon-delete pk-icon-hover",attrs:{title:t._f("trans")("Delete"),"data-uk-tooltip":"{delay: 500}"},on:{click:function(e){return e.preventDefault(),t.remove(e)}}})])])])])},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.video.data.src?i("div",{staticClass:"uk-form-width-large uk-inline-clip uk-transition-toggle uk-visible-toggle"},[t.imageSrc?i("img",{attrs:{src:t.imageSrc}}):t._e(),t._v(" "),t.videoSrc?i("video",{staticClass:"uk-responsive-width",attrs:{src:t.videoSrc,width:t.width,height:t.height}}):t._e(),t._v(" "),i("div",{staticClass:"uk-transition-fade uk-position-cover uk-overlay uk-overlay-default uk-flex uk-flex-center uk-flex-middle"}),t._v(" "),i("a",{staticClass:"uk-position-cover",on:{click:function(e){return e.preventDefault(),t.config(e)}}}),t._v(" "),i("div",{staticClass:"uk-card-badge pk-panel-badge uk-invisible-hover"},[i("ul",{staticClass:"uk-subnav pk-subnav-icon"},[i("li",[i("a",{directives:[{name:"confirm",rawName:"v-confirm",value:"Reset video?",expression:"'Reset video?'"}],staticClass:"pk-icon-delete pk-icon-hover",attrs:{title:t._f("trans")("Delete"),"uk-tooltip":"delay: 500"},on:{click:function(e){return e.preventDefault(),t.remove(e)}}})])])])]):i("div",{staticClass:"uk-panel uk-placeholder uk-placeholder-large uk-text-center uk-visible-hover"},[i("img",{attrs:{width:"60",height:"60",alt:t._f("trans")("Placeholder Video"),src:t.$url("app/system/assets/images/placeholder-video.svg")}}),t._v(" "),i("p",{staticClass:"uk-text-muted uk-margin-small-top"},[t._v(t._s(t._f("trans")("Add Video")))]),t._v(" "),i("a",{staticClass:"uk-position-cover",on:{click:function(e){return e.preventDefault(),t.config(e)}}}),t._v(" "),i("div",{staticClass:"uk-panel-badge pk-panel-badge uk-hidden"},[i("ul",{staticClass:"uk-subnav pk-subnav-icon"},[i("li",[i("a",{staticClass:"pk-icon-delete pk-icon-hover",attrs:{title:t._f("trans")("Delete"),"data-uk-tooltip":"{delay: 500}"},on:{click:function(e){return e.preventDefault(),t.remove(e)}}})])])])])},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},function(t,e){var i=UIkit.util,n=(i.$,i.css),a=i.closest,r=i.removeAttr,o=i.height,s=i.trigger;t.exports={name:"editor-code",created:function(){var t=$editor.root_url+"/app/assets/codemirror";this.$asset({css:[t+"/show-hint.css",t+"/codemirror.css"],js:[t+"/codemirror.min.js"]}).then(this.init)},methods:{init:function(){var t=this,e=this.$parent.editorMode,i="split"!=e?this.$parent.$refs.editor:this.$parent.$refs["editor-code"];this.editor=CodeMirror.fromTextArea(i,_.extend({mode:"htmlmixed",dragDrop:!1,autoCloseTags:!0,matchTags:!0,autoCloseBrackets:!0,matchBrackets:!0,indentUnit:4,indentWithTabs:!1,tabSize:4,lineNumbers:!0,lineWrapping:!0,extraKeys:{F11:function(t){t.setOption("fullScreen",!t.getOption("fullScreen"))},Esc:function(t){t.getOption("fullScreen")&&t.setOption("fullScreen",!1)}}},this.$parent.options)),this.editor.setSize(null,this.$parent.height-2),this.editor.refresh(),"split"!=e&&(this.$parent.ready=!0),this.editor.on("change",function(){t.editor.save(),s(i,"input")}),this.$watch("$parent.active",function(t){"split"==e&&1==t&&(this.editor.setSize(null,this.getHeight(this.$parent.$refs.visual)-2),this.editor.refresh())}),this.$watch("$parent.content",function(t){t!=this.editor.getValue()&&(this.editor.setValue(t),this.editor.refresh())}),this.observe(i,e),this.$emit("ready")},getHeight:function(t){var e;return"none"!==n(t,"display")?o(t):(n(t,{position:"absolute",visibility:"hidden",display:"block"}),e=o(t),r(t,"style"),e)},observe:function(t,e){var i=this,n=a(t,"li");"split"!==e&&n&&new MutationObserver(function(){"none"!=n.style.display&&i.editor.refresh()}).observe(n,{attributes:!0,childList:!0})}}}},function(t,e,i){"use strict";i.r(e);var n=i(15),a=i(1);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);var o=i(0),s=Object(o.a)(a.default,n.a,n.b,!1,null,null,null);e.default=s.exports},function(t,e){var i=UIkit.util,n=i.on,a=(i.removeClass,i.trigger);t.exports={name:"editor-html",created:function(){var t=this,e=$editor.root_url;this.$parent.$set(this.$parent,"height",this.$parent.height+31),this.$asset({css:[e+"/app/assets/codemirror/show-hint.css",e+"/app/assets/codemirror/codemirror.css"],js:[e+"/app/assets/codemirror/codemirror.min.js",e+"/app/assets/marked/marked.min.js"]}).then(function(){var e=this.$parent.editor=UIkit.htmleditor(this.$parent.$refs.editor,_.extend({lblPreview:this.$trans("Preview"),lblCodeview:this.$trans("Code"),lblMarkedview:this.$trans("Markdown"),marked:window.marked,CodeMirror:window.CodeMirror},this.$parent.options));n(e.$el,"htmleditor-save",function(t,e){if(e.element[0].form){var i=document.createEvent("HTMLEvents");i.initEvent("submit",!0,!0),e.element[0].form.dispatchEvent(i)}}),n(e.$el,"init",function(){t.$parent.ready=!0}),n(e.$el,"render",function(){e.replaceInPreview(/<script(.*)>[^<]+<\/script>|<style(.*)>[^<]+<\/style>/gi,"")}),this.$watch("$parent.value",function(t){t!=e.editor.getValue()&&e.editor.setValue(t)}),this.$watch("$parent.options.markdown",function(t){a(e.$el,t?"enableMarkdown":"disableMarkdown")},{immediate:!0}),this.$emit("ready")})}}},function(t,e,i){var n=UIkit.util,a=n.on,r=n.attr,o=n.findAll;t.exports={name:"link-plugin",data:function(){return{links:[]}},plugin:!0,created:function(){var t=this,e=this.$parent.editor;e&&e.htmleditor&&(a(e.$el,"action.link",function(e,i){e.stopImmediatePropagation(),t.openModal(_.find(t.links,function(t){return t.inRange(i.getCursor())}))}),a(e.$el,"render",function(){var i="gfm"!=e.getMode()?/<a(?:\s.+?>|\s*>)(?:[^<]*)<\/a>/gi:/<a(?:\s.+?>|\s*>)(?:[^<]*)<\/a>|(?:\[([^\n\]]*)\])(?:\(([^\n\]]*)\))?/gi;t.links=e.replaceInPreview(i,t.replaceInPreview)}),a(e.$el,"renderLate",function(){for(;t.$children.length;)t.$children[0].$destroy();Vue.nextTick(function(){o("link-preview",e.preview).forEach(function(e){(new(t.getWrapper(r(e,"index")))).$mount(e)})})}))},methods:{getWrapper:function(t){var e=this;return Vue.extend({name:"wrapper",parent:this,components:this.$options.components,data:function(){return e.$data},render:function(e){return e("link-preview",{props:{index:t}})},methods:{openModal:function(t){return this.$parent.openModal(t)}}})},openModal:function(t){var e=new DOMParser,i=this.$parent.editor,n=i.editor.getCursor();t||(t={replace:function(t){i.editor.replaceRange(t,n)}}),new this.$parent.$options.utils["link-picker"]({parent:this,data:{link:t}}).$mount().$on("select",function(t){t.anchor||(t.anchor=e.parseFromString("<a></a>","text/html").body.childNodes[0]),t.anchor.setAttribute("href",t.link),t.anchor.innerHTML=t.txt,t.replace(t.anchor.outerHTML)})},replaceInPreview:function(t,e){var i=new DOMParser;if(t.data={},"<"==t.matches[0][0])t.anchor=i.parseFromString(t.matches[0],"text/html").body.childNodes[0],t.link=t.anchor.attributes.href?t.anchor.attributes.href.nodeValue:"",t.txt=t.anchor.innerHTML;else{if("!"==t.matches[t.matches.length-1][t.matches[t.matches.length-2]-1])return!1;t.link=t.matches[2],t.txt=t.matches[1]}return'<link-preview index="'+e+'"></link-preview>'}},components:{"link-preview":i(26).default}}},function(t,e,i){"use strict";i.r(e);var n=i(19),a=i(3);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);var o=i(0),s=Object(o.a)(a.default,n.a,n.b,!1,null,null,null);e.default=s.exports},function(t,e,i){var n=UIkit.util,a=n.on,r=n.attr,o=n.findAll;t.exports={name:"image-plugin",data:function(){return{images:[]}},plugin:!0,created:function(){var t=this,e=this.$parent.editor;e&&e.htmleditor&&(a(e.$el,"action.image",function(e,i){e.stopImmediatePropagation(),t.openModal(_.find(t.images,function(t){return t.inRange(i.getCursor())}))}),a(e.$el,"render",function(){var i="gfm"!=e.getMode()?/<img(.+?)>/gi:/(?:<img(.+?)>|!(?:\[([^\n\]]*)])(?:\(([^\n\]]*?)\))?)/gi;t.images=e.replaceInPreview(i,t.replaceInPreview)}),a(e.$el,"renderLate",function(){for(;t.$children.length;)t.$children[0].$destroy();Vue.nextTick(function(){o("image-preview",e.preview).forEach(function(e){(new(t.getWrapper(r(e,"index")))).$mount(e)})})}))},methods:{getWrapper:function(t){var e=this;return Vue.extend({name:"wrapper",parent:this,components:this.$options.components,data:function(){return e.$data},render:function(e){return e("image-preview",{props:{index:t}})},methods:{openModal:function(t){return this.$parent.openModal(t)}}})},openModal:function(t){var e=new DOMParser,i=this.$parent.editor,n=i.editor.getCursor();t||(t={replace:function(t){i.editor.replaceRange(t,n)}}),new this.$parent.$options.utils["image-picker"]({parent:this,data:{image:t}}).$mount().$on("select",function(t){var n;"html"==(t.tag||i.getCursorMode())?(t.anchor||(t.anchor=e.parseFromString("<img>","text/html").body.childNodes[0]),t.anchor.setAttribute("src",t.data.src),t.anchor.setAttribute("alt",t.data.alt),n=t.anchor.outerHTML):n="!["+t.data.alt+"]("+t.data.src+")",t.replace(n)})},replaceInPreview:function(t,e){var i=new DOMParser;return t.data={},"<"==t.matches[0][0]?(t.anchor=i.parseFromString(t.matches[0],"text/html").body.childNodes[0],t.data.src=t.anchor.attributes.src?t.anchor.attributes.src.nodeValue:"",t.data.alt=t.anchor.attributes.alt?t.anchor.attributes.alt.nodeValue:"",t.tag="html"):(t.data.src=t.matches[3],t.data.alt=t.matches[2],t.tag="gfm"),'<image-preview index="'+e+'"></image-preview>'}},components:{"image-preview":i(28).default}}},function(t,e,i){"use strict";i.r(e);var n=i(20),a=i(5);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);var o=i(0),s=Object(o.a)(a.default,n.a,n.b,!1,null,null,null);e.default=s.exports},function(t,e,i){var n=UIkit.util,a=n.on,r=n.attr,o=n.findAll;t.exports={name:"video-plugin",data:function(){return{videos:[]}},plugin:!0,created:function(){var t=this,e=this.$parent.editor;e&&e.htmleditor&&(e.addButton("video",{title:"Video",label:'<i uk-icon="video-camera"></i>'}),e.addToolbarButton("video"),a(e.$el,"action.video",function(e,i){e.stopImmediatePropagation(),t.openModal(_.find(t.videos,function(t){return t.inRange(i.getCursor())}))}),a(e.$el,"render",function(){t.videos=e.replaceInPreview(/<(video|iframe)([^>]*)>[^<]*<\/(?:video|iframe)>|\(video\)(\{.+?})/gi,t.replaceInPreview)}),a(e.$el,"renderLate",function(){for(;t.$children.length;)t.$children[0].$destroy();Vue.nextTick(function(){o("video-preview",e.preview).forEach(function(e){(new(t.getWrapper(r(e,"index")))).$mount(e)})})}),e.debouncedRedraw())},methods:{getWrapper:function(t){var e=this;return Vue.extend({name:"wrapper",parent:this,components:this.$options.components,data:function(){return e.$data},render:function(e){return e("video-preview",{props:{index:t}})},methods:{openModal:function(t){return this.$parent.openModal(t)}}})},openModal:function(t){var e=new DOMParser,i=this.$parent.editor,n=i.editor.getCursor();t||(t={replace:function(t){i.editor.replaceRange(t,n)}});var a=new this.$parent.$options.utils["video-picker"]({parent:this,data:{video:t}}).$mount();a.$on("select",function(t){var i,n,r;delete t.data.playlist,(r=a.isYoutube)?(n="https://www.youtube.com/embed/"+r[1]+"?",t.data.loop&&(t.data.playlist=r[1])):(r=a.isVimeo)&&(n="https://player.vimeo.com/video/"+r[3]+"?"),n?(t.anchor||(t.anchor=e.parseFromString("<iframe></iframe>","text/html").body.childNodes[0]),_.forEach(t.data,function(t,e){"src"!==e&&"width"!==e&&"height"!==e&&(n+=e+"="+(_.isBoolean(t)?Number(t):t)+"&")}),t.attributes=t.attributes||{},t.attributes.src=n.slice(0,-1),t.attributes.width=t.data.width||690,t.attributes.height=t.data.height||390,t.attributes.allowfullscreen=!0,i=t.attributes):(t.anchor||(t.anchor=e.parseFromString("<video></video>","text/html").body.childNodes[0]),i=t.data),_.forEach(i,function(e,i){e?t.anchor.setAttribute(i,_.isBoolean(e)?"":e):t.anchor.removeAttribute(i)}),t.replace(t.anchor.outerHTML)})},replaceInPreview:function(t,e){var i,n,a,r=new DOMParser;if(t.matches[3]){try{i=JSON.parse(t.matches[3])}catch(t){}t.data=i||{src:""}}else t.data={},t.anchor=r.parseFromString(t.matches[0],"text/html").body.childNodes[0],"VIDEO"===t.anchor.nodeName?(_.forEach(t.anchor.attributes,function(e){t.data[e.name]=""===e.nodeValue||e.nodeValue}),t.data.controls=void 0!==t.data.controls):"IFRAME"===t.anchor.nodeName&&(t.attributes={},_.forEach(t.anchor.attributes,function(e){t.attributes[e.name]=""===e.nodeValue||e.nodeValue}),a=(n=(n=t.attributes.src||"").split("?"))[1]||"",n=n[0],a.split("&").forEach(function(e){e=e.split("="),t.data[e[0]]=e[1]}),t.data.src=n,t.attributes.width&&(t.data.width=t.attributes.width),t.attributes.height&&(t.data.height=t.attributes.height));return'<video-preview index="'+e+'"></video-preview>'}},components:{"video-preview":i(30).default}}},function(t,e,i){"use strict";i.r(e);var n=i(21),a=i(7);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);var o=i(0),s=Object(o.a)(a.default,n.a,n.b,!1,null,null,null);e.default=s.exports},function(t,e){var i=UIkit.util.on;t.exports={name:"url-plugin",plugin:!0,created:function(){var t=this.$parent.editor;t&&t.htmleditor&&i(t.$el,"renderLate",function(){t.replaceInPreview(/src=["'](.+?)["']/gi,function(t){var e=t.matches[0];return t.matches[1].match(/^(\/|http:|https:|ftp:)/i)||(e=e.replace(t.matches[1],Vue.url(t.matches[1],!0))),e})})}}},function(t,e){var i=UIkit.util,n=i.$,a=(i.on,i.attr),r=i.css,o=(i.removeClass,i.removeAttr);i.find;t.exports={name:"editor-tinymce",data:function(){return{plugins:[],toolbar:""}},created:function(){var t=this,e=$editor.root_url+"/app/assets/tinymce",i="editor.tinymce.toolbar",s=_.get(this.$parent,"$vnode.data.model.expression");i=s?i+"."+s:i,this.toolbar=this.$session.get(i,0),this.$parent.editor=this,this.$asset({js:[e+"/tinymce.min.js"]}).then(function(){this.$emit("ready"),tinyMCE.baseURL=e,tinyMCE.suffix=".min",this.$parent.editor=tinyMCE.init(_.merge({skin_url:$editor.root_url+"/app/assets/tinymce_skin",height:this.$parent.height+12,mode:"exact",menubar:!1,branding:!1,plugins:[t.plugins,"autolink lists charmap hr anchor media","visualblocks fullscreen","paste"],toolbar:["bold italic bullist numlist blockquote hr alignleft aligncenter alignright link image media toggletoolbar fullscreen","formatselect underline alignjustify strikethrough charmap forecolor backcolor removeformat outdent indent pastetext visualblocks textPicker widgetPicker undo redo"],fontsize_formats:"10px 11px 12px 14px 16px 18px 24px 36px 48px",toolbar_item_size:"small",forced_root_block:"",force_br_newlines:!0,force_p_newlines:"",document_base_url:Vue.url.options.root+"/",elements:[this.$parent.$refs.editor],element_format:"html",entity_encoding:"raw",verify_html:!1,setup:function(e){e.on("init",function(){t.$parent.ready=!0}),e.ui.registry.addIcon("more",'<svg aria-hidden="true" role="img" focusable="false" class="dashicon dashicons-ellipsis" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M5 10c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm12-2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-7 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></svg>'),e.ui.registry.addToggleButton("toggletoolbar",{icon:"more",onAction:function(r){var s=n(".tox-tinymce .tox-toolbar:nth-child(2)",e.editorContainer);r.isActive()?(t.$session.set(i,0),a(s,"hidden","")):(o(s,"hidden"),t.$session.set(i,1)),r.setActive(!r.isActive())},onSetup:function(i){t.$nextTick(function(){var o=n(".tox-tinymce .tox-toolbar:nth-child(2)",e.editorContainer),s=n(".tox-tinymce .tox-toolbar > .tox-toolbar__group:first-child",e.editorContainer);t.toolbar?i.setActive(!0):a(o,"hidden",""),r(s,"border","none")})}})},init_instance_callback:function(e){t.tiny=e;var i=function(t){this.tiny.setContent(t||"",{format:"text"})},n=t.$watch("$parent.content",i,{immediate:!0});e.on("change",function(){n(),t.$parent.content=e.getContent(),n=t.$watch("$parent.content",i)}),e.on("undo",function(){e.fire("change")}),e.on("redo",function(){e.fire("change")}),e.on("keydown",function(e){if((e.ctrlKey||e.metaKey)&&83==e.which&&"function"==typeof t.$root.save)return e.preventDefault(),t.$root.save(),!1})},save_onsavecallback:function(){if(t.$parent.$refs.editor.form){var e=document.createEvent("HTMLEvents");e.initEvent("submit",!0,!1),t.$parent.$refs.editor.form.dispatchEvent(e)}}},$editor))})}}},function(t,e){t.exports={name:"plugin-link",plugin:!0,created:function(){if("undefined"!=typeof tinyMCE){var t=this;this.$parent.editor.plugins.push("-pagekitLink"),tinyMCE.PluginManager.add("pagekitLink",function(e){var i=function(){var i=e.selection.getNode();if("A"===i.nodeName){e.selection.select(i);var n={link:i.attributes.href?i.attributes.href.nodeValue:"",txt:i.innerHTML}}else i=document.createElement("a"),n={};new(Vue.extend(t.$parent.$options.utils["link-picker"]))({parent:t,data:{link:n}}).$mount().$on("select",function(t){i.setAttribute("href","");var n=Object.keys(i.attributes).reduce(function(e,n){var a=i.attributes[n].name;return"data-mce-href"===a?e:e+" "+a+'="'+("href"===a?t.link:i.attributes[n].nodeValue)+'"'},"");e.selection.setContent("<a"+n+">"+t.txt+"</a>"),e.fire("change")})};e.on("click",function(t){"A"==t.target.nodeName&&i()}),e.ui.registry.addToggleButton("link",{tooltip:"Insert/edit link",icon:"link",onAction:function(){i()},onSetup:function(t){return e.selection.selectorChangedWithUnbind("a",t.setActive).unbind}}),e.ui.registry.addMenuItem("link",{context:"insert",icon:"link",text:"Insert/edit link",onAction:function(){i()}})})}}}},function(t,e){t.exports={name:"plugin-image",plugin:!0,created:function(){if("undefined"!=typeof tinyMCE){var t=this;this.$parent.editor.plugins.push("-pagekitImage"),tinyMCE.PluginManager.add("pagekitImage",function(e){var i=function(){var i=e.selection.getNode();if("IMG"!==i.nodeName||i.hasAttribute("data-mce-object"))i=new Image||document.createElement("img"),n={};else{e.selection.select(i);var n={src:i.attributes.src.nodeValue,alt:i.attributes.alt.nodeValue}}new(Vue.extend(t.$parent.$options.utils["image-picker"]))({name:"image-picker",parent:t,data:{image:{data:n}}}).$mount().$on("select",function(t){i.setAttribute("src",""),i.setAttribute("alt","");var n=Object.keys(i.attributes).reduce(function(e,n){var a=i.attributes[n].name;return"data-mce-src"===a?e:e+" "+a+'="'+(t.data[a]||i.attributes[n].nodeValue)+'"'},"");e.selection.setContent("<img"+n+">"),e.fire("change")})};e.ui.registry.addToggleButton("image",{tooltip:"Insert/edit image",icon:"image",onAction:function(){i()},onSetup:function(t){return e.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",function(e){t.setActive(e),e&&i()}).unbind}}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Insert/edit image",context:"insert",onAction:function(){i()}})})}}}},function(t,e){t.exports={name:"plugin-video",plugin:!0,created:function(){if("undefined"!=typeof tinyMCE){var t=this;this.$parent.editor.plugins.push("media"),this.$parent.editor.plugins.push("-pagekitVideo"),tinyMCE.PluginManager.add("pagekitVideo",function(e){var i=function(){var i,n,a={},r=e.selection.getNode(),o={};"IMG"===r.nodeName&&r.hasAttribute("data-mce-object")?(e.selection.select(r),Object.keys(r.attributes).forEach(function(t){var e=r.attributes[t].name;("width"===e||"height"===e||(e=e.match(/data-mce-p-(.*)/))&&(e=e[1]))&&(o[e]=""===r.attributes[t].nodeValue||r.attributes[t].nodeValue)})):"SPAN"===r.nodeName&&r.hasAttribute("data-mce-object")&&(r=r.firstChild)&&(i=(n=(n=r.getAttribute("src")).split("?"))[1],n=n[0],String(i).split("&").forEach(function(t){t=t.split("="),o[t[0]]=t[1]}),o.src=n,o.width=r.getAttribute("width"),o.height=r.getAttribute("height"),Object.keys(r.attributes).forEach(function(t){var e=r.attributes[t].name;"src"!==e&&"width"!==e&&"height"!==e&&(a[e]=r.attributes[t].nodeValue)}));var s=new(Vue.extend(t.$parent.$options.utils["video-picker"]))({parent:t,data:function(){return{video:{data:o}}}}).$mount().$on("select",function(t){var i,n,r;delete t.data.playlist,(r=s.isYoutube)?(n="https://www.youtube.com/embed/"+r[1]+"?",t.data.loop&&(t.data.playlist=r[1])):(r=s.isVimeo)&&(n="https://player.vimeo.com/video/"+r[3]+"?"),n?(Object.keys(t.data).forEach(function(e){"src"!==e&&"width"!==e&&"height"!==e&&(n+=e+"="+(_.isBoolean(t.data[e])?Number(t.data[e]):t.data[e])+"&")}),a.src=n.slice(0,-1),a.width=t.data.width||690,a.height=t.data.height||390,a.allowfullscreen=!0,i="<iframe",Object.keys(a).forEach(function(t){i+=" "+t+(_.isBoolean(a[t])?"":'="'+a[t]+'"')}),i+="></iframe>"):(i="<video",Object.keys(t.data).forEach(function(e){var n=t.data[e];n&&(i+=" "+e+(_.isBoolean(n)?"":'="'+n+'"'))}),i+="></video>"),e.selection.setContent(""),e.insertContent(i),e.fire("change")})};e.ui.registry.addIcon("media",'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4z" fill-rule="nonzero"></path></svg>'),e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit video",icon:"media",onAction:function(){i()},onSetup:function(t){return e.selection.selectorChangedWithUnbind("img[data-mce-object], span[data-mce-object]",function(e){t.setActive(e),e&&i()}).unbind}}),e.ui.registry.addMenuItem("media",{icon:"media",text:"Insert/edit video",context:"insert",onAction:function(){i()}})})}}}},function(t,e,i){"use strict";i.r(e);var n=i(18),a=i(9);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);var o=i(0),s=Object(o.a)(a.default,n.a,n.b,!1,null,null,null);e.default=s.exports},function(t,e,i){"use strict";i.r(e);var n=i(17),a=i(11);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);var o=i(0),s=Object(o.a)(a.default,n.a,n.b,!1,null,null,null);e.default=s.exports},function(t,e,i){"use strict";i.r(e);var n=i(16),a=i(13);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);var o=i(0),s=Object(o.a)(a.default,n.a,n.b,!1,null,null,null);e.default=s.exports}]);