!function(t){var e={};function a(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=10)}([function(t,e,a){"use strict";function o(t,e,a,o,n,s,i,r){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=a,c._compiled=!0),o&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},c._ssrRegister=l):n&&(l=r?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}a.d(e,"a",function(){return o})},function(t,e,a){"use strict";a.r(e);var o=a(2),n=a.n(o);for(var s in o)"default"!==s&&function(t){a.d(e,t,function(){return o[t]})}(s);e.default=n.a},function(t,e){t.exports={section:{label:"Localization",icon:"pk-icon-large-pin",priority:20},props:["config","options"],data:function(){return{locales:window.$system.locales}},computed:{link:function(){return'<a href="https://www.transifex.com/pagekit/pagekit-cms/">Transifex</a>'},option:function(){return this.$root.options.system}}}},function(t,e,a){"use strict";a.r(e);var o=a(4),n=a.n(o);for(var s in o)"default"!==s&&function(t){a.d(e,t,function(){return o[t]})}(s);e.default=n.a},function(t,e){t.exports={section:{label:"System",icon:"pk-icon-large-settings",priority:10},props:["config","options"],data:function(){return window.$system}}},function(t,e,a){"use strict";a.r(e);var o=a(6),n=a.n(o);for(var s in o)"default"!==s&&function(t){a.d(e,t,function(){return o[t]})}(s);e.default=n.a},function(t,e){t.exports={section:{label:"Misc",icon:"pk-icon-large-cogwheel",priority:100},props:["config","options"],data:function(){return _.extend({type:window.$pagekit.editor.editor||"",mode:window.$pagekit.editor.mode||""},window.$system)},editors:{html:{name:"HTML",value:"html"},tinymce:{name:"TinyMCE",value:"tinymce",split:!0},codemirror:{name:"Codemirror",value:"code"}},computed:{editor:function(){return _.find(this.$options.editors,{value:this.type})}},watch:{type:function(t){this.editor.split||(this.mode="")}},events:{"save:settings":function(){var t={"system/editor":{editor:this.type,mode:this.mode}};_.extend(this.$parent.options,t)}}}},function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"uk-margin uk-flex uk-flex-middle uk-flex-between uk-flex-wrap"},[a("div",[a("h2",{staticClass:"uk-margin-remove"},[t._v("\n                "+t._s(t._f("trans")("Localization"))+"\n            ")])]),t._v(" "),a("div",{staticClass:"uk-margin-small"},[a("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"submit"}},[t._v("\n                "+t._s(t._f("trans")("Save"))+"\n            ")])])]),t._v(" "),a("div",{staticClass:"uk-margin"},[a("label",{staticClass:"uk-form-label",attrs:{for:"form-sitelocale"}},[t._v(t._s(t._f("trans")("Site Locale")))]),t._v(" "),a("div",{staticClass:"uk-form-controls"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.option.site.locale,expression:"option.site.locale"}],staticClass:"uk-form-width-large uk-select",attrs:{id:"form-sitelocale"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.option.site,"locale",e.target.multiple?a:a[0])}}},t._l(t.locales,function(e,o){return a("option",{key:o,domProps:{value:o}},[t._v("\n                    "+t._s(e)+"\n                ")])}),0)])]),t._v(" "),a("div",{staticClass:"uk-margin"},[a("label",{staticClass:"uk-form-label",attrs:{for:"form-adminlocale"}},[t._v(t._s(t._f("trans")("Admin Locale")))]),t._v(" "),a("div",{staticClass:"uk-form-controls"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.option.admin.locale,expression:"option.admin.locale"}],staticClass:"uk-form-width-large uk-select",attrs:{id:"form-adminlocale"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.option.admin,"locale",e.target.multiple?a:a[0])}}},t._l(t.locales,function(e,o){return a("option",{key:o,domProps:{value:o}},[t._v("\n                    "+t._s(e)+"\n                ")])}),0)])]),t._v(" "),a("p",{domProps:{innerHTML:t._s(t.$trans("Is your language not available? Please help out by translating Pagekit into your own language on %link%.",{link:t.link}))}})])},n=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return n})},function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"uk-margin uk-flex uk-flex-middle uk-flex-between uk-flex-wrap"},[a("div",[a("h2",{staticClass:"uk-margin-remove"},[t._v("\n                "+t._s(t._f("trans")("System"))+"\n            ")])]),t._v(" "),a("div",{staticClass:"uk-margin-small"},[a("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"submit"}},[t._v("\n                "+t._s(t._f("trans")("Save"))+"\n            ")])])]),t._v(" "),a("div",{staticClass:"uk-margin"},[a("label",{staticClass:"uk-form-label",attrs:{for:"form-storage"}},[t._v(t._s(t._f("trans")("Storage")))]),t._v(" "),a("div",{staticClass:"uk-form-controls"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.$root.config["system-finder"].storage,expression:"$root.config['system-finder'].storage"}],staticClass:"uk-form-width-large uk-input",attrs:{id:"form-storage",type:"text",placeholder:"/storage"},domProps:{value:t.$root.config["system-finder"].storage},on:{input:function(e){e.target.composing||t.$set(t.$root.config["system-finder"],"storage",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"uk-margin"},[a("label",{staticClass:"uk-form-label",attrs:{for:"form-fileextensions"}},[t._v(t._s(t._f("trans")("File Extensions")))]),t._v(" "),a("div",{staticClass:"uk-form-controls"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.$root.options["system-finder"].extensions,expression:"$root.options['system-finder']['extensions']"}],staticClass:"uk-form-width-large uk-input",attrs:{id:"form-fileextensions",type:"text"},domProps:{value:t.$root.options["system-finder"].extensions},on:{input:function(e){e.target.composing||t.$set(t.$root.options["system-finder"],"extensions",e.target.value)}}}),t._v(" "),a("div",{staticClass:"uk-text-meta"},[t._v("\n                "+t._s(t._f("trans")("Allowed file extensions for the storage upload."))+"\n            ")])])]),t._v(" "),a("div",{staticClass:"uk-margin"},[a("label",{staticClass:"uk-form-label",attrs:{for:"form-user-recaptcha-enable"}},[t._v(t._s(t._f("trans")("Google reCAPTCHA")))]),t._v(" "),a("div",{staticClass:"uk-form-controls uk-form-controls-text"},[a("div",[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.$root.options["system-captcha"].recaptcha_enable,expression:"$root.options['system-captcha'].recaptcha_enable"}],staticClass:"uk-checkbox",attrs:{id:"form-user-recaptcha-enable",type:"checkbox"},domProps:{checked:Array.isArray(t.$root.options["system-captcha"].recaptcha_enable)?t._i(t.$root.options["system-captcha"].recaptcha_enable,null)>-1:t.$root.options["system-captcha"].recaptcha_enable},on:{change:function(e){var a=t.$root.options["system-captcha"].recaptcha_enable,o=e.target,n=!!o.checked;if(Array.isArray(a)){var s=t._i(a,null);o.checked?s<0&&t.$set(t.$root.options["system-captcha"],"recaptcha_enable",a.concat([null])):s>-1&&t.$set(t.$root.options["system-captcha"],"recaptcha_enable",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.$root.options["system-captcha"],"recaptcha_enable",n)}}}),a("span",{staticClass:"uk-margin-small-left"},[t._v(t._s(t._f("trans")("Enable for user registration and comments")))])])]),t._v(" "),t.$root.options["system-captcha"].recaptcha_enable?a("div",{staticClass:"uk-margin-small"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.$root.options["system-captcha"].recaptcha_sitekey,expression:"$root.options['system-captcha'].recaptcha_sitekey"}],staticClass:"uk-form-width-large uk-input",attrs:{id:"form-user-recaptcha-sitekey",placeholder:t._f("trans")("Site key")},domProps:{value:t.$root.options["system-captcha"].recaptcha_sitekey},on:{input:function(e){e.target.composing||t.$set(t.$root.options["system-captcha"],"recaptcha_sitekey",e.target.value)}}})]):t._e(),t._v(" "),t.$root.options["system-captcha"].recaptcha_enable?a("div",{staticClass:"uk-margin-small"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.$root.options["system-captcha"].recaptcha_secret,expression:"$root.options['system-captcha'].recaptcha_secret"}],staticClass:"uk-form-width-large uk-input",attrs:{id:"form-user-recaptcha-secret",placeholder:t._f("trans")("Secret key")},domProps:{value:t.$root.options["system-captcha"].recaptcha_secret},on:{input:function(e){e.target.composing||t.$set(t.$root.options["system-captcha"],"recaptcha_secret",e.target.value)}}})]):t._e(),t._v(" "),a("div",{staticClass:"uk-text-meta"},[t._v("\n                "+t._s(t._f("trans")("Only key pairs for Google reRECAPTCHA V2 Invisible are supported."))+"\n            ")])])]),t._v(" "),a("div",{staticClass:"uk-margin"},[a("label",{staticClass:"uk-form-label"},[t._v(t._s(t._f("trans")("Developer")))]),t._v(" "),a("div",{staticClass:"uk-form-controls uk-form-controls-text"},[a("div",{staticClass:"uk-margin-small"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.$root.config.application.debug,expression:"$root.config.application.debug"}],staticClass:"uk-checkbox",attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(t.$root.config.application.debug)?t._i(t.$root.config.application.debug,"1")>-1:t.$root.config.application.debug},on:{change:function(e){var a=t.$root.config.application.debug,o=e.target,n=!!o.checked;if(Array.isArray(a)){var s=t._i(a,"1");o.checked?s<0&&t.$set(t.$root.config.application,"debug",a.concat(["1"])):s>-1&&t.$set(t.$root.config.application,"debug",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.$root.config.application,"debug",n)}}}),a("span",{staticClass:"uk-margin-small-left"},[t._v(t._s(t._f("trans")("Enable debug mode")))])])]),t._v(" "),a("div",{staticClass:"uk-margin-small"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.$root.config.debug.enabled,expression:"$root.config.debug.enabled"}],staticClass:"uk-checkbox",attrs:{type:"checkbox",value:"1",disabled:!t.sqlite},domProps:{checked:Array.isArray(t.$root.config.debug.enabled)?t._i(t.$root.config.debug.enabled,"1")>-1:t.$root.config.debug.enabled},on:{change:function(e){var a=t.$root.config.debug.enabled,o=e.target,n=!!o.checked;if(Array.isArray(a)){var s=t._i(a,"1");o.checked?s<0&&t.$set(t.$root.config.debug,"enabled",a.concat(["1"])):s>-1&&t.$set(t.$root.config.debug,"enabled",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.$root.config.debug,"enabled",n)}}}),a("span",{staticClass:"uk-margin-small-left"},[t._v(t._s(t._f("trans")("Enable debug toolbar")))])])]),t._v(" "),t.sqlite?t._e():a("div",{staticClass:"uk-text-meta"},[t._v("\n                "+t._s(t._f("trans")("Please enable the SQLite database extension."))+"\n            ")]),t._v(" "),t.$root.config.application.debug||t.$root.config.debug.enabled?a("div",{staticClass:"uk-text-meta"},[t._v("\n                "+t._s(t._f("trans")("Please note that enabling debug mode or toolbar has serious security implications."))+"\n            ")]):t._e()])])])},n=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return n})},function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"uk-h4 uk-margin-remove"},[t._v(t._s(t._f("trans")("Editor Settings")))]),t._v(" "),a("hr",{staticClass:"uk-margin-small-top"}),t._v(" "),a("div",{staticClass:"uk-margin-small"},[a("label",{staticClass:"uk-form-label",attrs:{for:"form-user-editor"}},[t._v(t._s(t._f("trans")("Default editor")))]),t._v(" "),a("div",{staticClass:"uk-form-controls"},[a("div",{staticClass:"uk-margin-small"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"uk-select uk-form-width-large",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.type=e.target.multiple?a:a[0]}}},t._l(t.$options.editors,function(e){return a("option",{domProps:{value:e.value}},[t._v(t._s(e.name))])}),0)])])]),t._v(" "),a("div",{staticClass:"uk-margin-small"},[a("label",{staticClass:"uk-form-label",attrs:{for:"form-user-editor"}},[t._v(t._s(t._f("trans")("Display mode")))]),t._v(" "),a("div",{staticClass:"uk-form-controls uk-form-controls-text"},[a("div",{staticClass:"uk-margin-small"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.mode,expression:"mode"}],staticClass:"uk-radio",attrs:{type:"radio",value:""},domProps:{checked:t._q(t.mode,"")},on:{change:function(e){t.mode=""}}}),t._v(" "),a("span",[t._v(t._s(t._f("trans")("Default")))])])]),t._v(" "),t.editor.split?[a("div",{staticClass:"uk-margin-small"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.mode,expression:"mode"}],staticClass:"uk-radio",attrs:{type:"radio",value:"split"},domProps:{checked:t._q(t.mode,"split")},on:{change:function(e){t.mode="split"}}}),t._v(" "),a("span",{class:{"uk-text-muted":"codemirror"===t.type}},[t._v(t._s(t._f("trans")("Spliting visual and code editor")))])])]),t._v(" "),a("div",{staticClass:"uk-inline uk-form-width-large uk-text-meta"},[a("span",[t._v(t._s(t._f("trans")("By default, only one editor is displayed; in split mode, visual and code editors are displayed at the same time.")))])])]:t._e()],2)])])},n=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return n})},function(t,e,a){window.Settings={name:"settings",el:"#settings",mixins:[Theme.Mixins.Helper,Theme.Mixins.Elements],data:function(){return _.extend({keysDict:{}},window.$settings)},theme:{hiddenHtmlElements:[".pk-width-content li > div > div.uk-flex"],elements:function(){var t=this;return{title:{scope:"breadcrumbs",type:"caption",caption:function(){t.$options.filters.trans;var e=t.$theme.activeTab("leftTab",t),a=t.sections.filter(function(t){return t.name===e})[0];return t.$trans(a.label)}},submit:{scope:"topmenu-left",type:"button",caption:"Save",class:"uk-button uk-button-primary",on:{click:function(){return t.save()}},priority:0}}}},created:function(){this.toHtml5Keys(this.config,this.options),this.$theme.$tabs("leftTab","#settings .uk-nav",{connect:".settings-tab",state:!0})},mounted:function(){},computed:{sections:function(){var t=[];return _.forIn(this.$options.components,function(e,a){var o=e.section;o&&(o.name=a,t.push(o))}),t}},methods:{toHtml5Keys:function(){var t=this;Array.from(arguments).forEach(function(e){Object.keys(e).forEach(function(a){-1!=a.indexOf("/")&&(new_key=a.replace(/\//g,"-"),t.keysDict[new_key]=a,e[new_key]=e[a],delete e[a])})})},toOrigin:function(t){var e=this,a=_.extend({},t);return Object.keys(a).forEach(function(t){e.keysDict.hasOwnProperty(t)&&(a[e.keysDict[t]]=a[t],delete a[t])}),a},save:function(){this.$trigger("save:settings",this.$data),this.$resource("admin/system/settings/save").save({config:this.toOrigin(this.config),options:this.toOrigin(this.options)}).then(function(){this.$notify("Settings saved.")},function(t){this.$notify(t.data,"danger")})}},components:{locale:a(11).default,system:a(12).default,misc:a(13).default}},Vue.ready(window.Settings)},function(t,e,a){"use strict";a.r(e);var o=a(7),n=a(1);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);var i=a(0),r=Object(i.a)(n.default,o.a,o.b,!1,null,null,null);e.default=r.exports},function(t,e,a){"use strict";a.r(e);var o=a(8),n=a(3);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);var i=a(0),r=Object(i.a)(n.default,o.a,o.b,!1,null,null,null);e.default=r.exports},function(t,e,a){"use strict";a.r(e);var o=a(9),n=a(5);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);var i=a(0),r=Object(i.a)(n.default,o.a,o.b,!1,null,null,null);e.default=r.exports}]);