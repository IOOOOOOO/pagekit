!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=39)}({1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(25),o=Object.prototype.hasOwnProperty,r=Array.prototype.splice,s=Object.prototype.toString;function a(t){return s.call(t).slice(8,-1)}var l=Object.assign||function(t,e){return u(e).forEach(function(n){o.call(e,n)&&(t[n]=e[n])}),t},u="function"==typeof Object.getOwnPropertySymbols?function(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.keys(t)};function c(t){return Array.isArray(t)?l(t.constructor(t.length),t):"Map"===a(t)?new Map(t):"Set"===a(t)?new Set(t):t&&"object"==typeof t?l(Object.create(Object.getPrototypeOf(t)),t):t}var d=function(){function t(){this.commands=l({},h),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(t,e){return t===e},this.update.newContext=function(){return(new t).update}}return Object.defineProperty(t.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(t){this.update.isEquals=t},enumerable:!0,configurable:!0}),t.prototype.extend=function(t,e){this.commands[t]=e},t.prototype.update=function(t,e){var n=this,r="function"==typeof e?{$apply:e}:e;Array.isArray(t)&&Array.isArray(r)||i(!Array.isArray(r),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),i("object"==typeof r&&null!==r,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(this.commands).join(", "));var s=t;return u(r).forEach(function(e){if(o.call(n.commands,e)){var i=t===s;s=n.commands[e](r[e],s,r,t),i&&n.isEquals(s,t)&&(s=t)}else{var l="Map"===a(t)?n.update(t.get(e),r[e]):n.update(t[e],r[e]),u="Map"===a(s)?s.get(e):s[e];n.isEquals(l,u)&&(void 0!==l||o.call(t,e))||(s===t&&(s=c(t)),"Map"===a(s)?s.set(e,l):s[e]=l)}}),s},t}();e.Context=d;var h={$push:function(t,e,n){return f(e,n,"$push"),t.length?e.concat(t):e},$unshift:function(t,e,n){return f(e,n,"$unshift"),t.length?t.concat(e):e},$splice:function(t,e,n,o){return function(t,e){i(Array.isArray(t),"Expected $splice target to be an array; got %s",t),y(e.$splice)}(e,n),t.forEach(function(t){y(t),e===o&&t.length&&(e=c(o)),r.apply(e,t)}),e},$set:function(t,e,n){return function(t){i(1===Object.keys(t).length,"Cannot have more than one key in an object with $set")}(n),t},$toggle:function(t,e){m(t,"$toggle");var n=t.length?c(e):e;return t.forEach(function(t){n[t]=!e[t]}),n},$unset:function(t,e,n,i){return m(t,"$unset"),t.forEach(function(t){Object.hasOwnProperty.call(e,t)&&(e===i&&(e=c(i)),delete e[t])}),e},$add:function(t,e,n,i){return g(e,"$add"),m(t,"$add"),"Map"===a(e)?t.forEach(function(t){var n=t[0],o=t[1];e===i&&e.get(n)!==o&&(e=c(i)),e.set(n,o)}):t.forEach(function(t){e!==i||e.has(t)||(e=c(i)),e.add(t)}),e},$remove:function(t,e,n,i){return g(e,"$remove"),m(t,"$remove"),t.forEach(function(t){e===i&&e.has(t)&&(e=c(i)),e.delete(t)}),e},$merge:function(t,e,n,o){var r,s;return r=e,i((s=t)&&"object"==typeof s,"update(): $merge expects a spec of type 'object'; got %s",s),i(r&&"object"==typeof r,"update(): $merge expects a target of type 'object'; got %s",r),u(t).forEach(function(n){t[n]!==e[n]&&(e===o&&(e=c(o)),e[n]=t[n])}),e},$apply:function(t,e){var n;return i("function"==typeof(n=t),"update(): expected spec of $apply to be a function; got %s.",n),t(e)}},p=new d;function f(t,e,n){i(Array.isArray(t),"update(): expected target of %s to be an array; got %s.",n,t),m(e[n],n)}function m(t,e){i(Array.isArray(t),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",e,t)}function y(t){i(Array.isArray(t),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",t)}function g(t,e){var n=a(t);i("Map"===n||"Set"===n,"update(): %s expects a target of type Set or Map; got %s",e,n)}e.isEquals=p.update.isEquals,e.extend=p.extend,e.default=p.update,e.default.default=t.exports=l(e.default,e)},2:function(t,e,n){"use strict";n.r(e),n.d(e,"VueNestable",function(){return _}),n.d(e,"VueNestableHandle",function(){return $});var i=n(1),o=n.n(i);
/*!
 * vue-nestable v2.2.0
 * (c) 2018-present Ralph Huwiler <ralph@huwiler.rocks>
 * Released under the MIT License.
 */
function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){s(t,e,n[e])})}return t}function u(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c={},d={methods:{registerNestable:function(t){var e=this._getByGroup(t.group);e.onDragStartListeners.push(t.onDragStart),e.onMouseEnterListeners.push(t.onMouseEnter),e.onMouseMoveListeners.push(t.onMouseMove)},notifyDragStart:function(t,e,n){var i=this._getByGroup(t),o=!0,r=!1,s=void 0;try{for(var a,l=i.onDragStartListeners[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){(0,a.value)(e,n)}}catch(t){r=!0,s=t}finally{try{o||null==l.return||l.return()}finally{if(r)throw s}}},notifyMouseEnter:function(t,e,n,i){var o=this._getByGroup(t),r=!0,s=!1,a=void 0;try{for(var l,u=o.onMouseEnterListeners[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){(0,l.value)(e,n,i)}}catch(t){s=!0,a=t}finally{try{r||null==u.return||u.return()}finally{if(s)throw a}}},notifyMouseMove:function(t,e){var n=this._getByGroup(t),i=!0,o=!1,r=void 0;try{for(var s,a=n.onMouseMoveListeners[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){(0,s.value)(e)}}catch(t){o=!0,r=t}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}},_getByGroup:function(t){return c[t]?c[t]:(c[t]={onDragStartListeners:[],onMouseEnterListeners:[],onMouseMoveListeners:[],onDragStart:[],dragItem:null},c[t])}}},h={name:"NestableItem",mixins:[d],props:{item:{type:Object,required:!0,default:function(){return{}}},index:{type:Number,required:!1,default:null},isChild:{type:Boolean,required:!1,default:!1},isCopy:{type:Boolean,required:!1,default:!1},options:{type:Object,required:!0,default:function(){return{}}}},inject:["listId","group"],data:function(){return{breakPoint:null,moveDown:!1}},computed:{isDragging:function(){var t=this.options.dragItem;return!this.isCopy&&t&&t[this.options.keyProp]===this.item[this.options.keyProp]},hasChildren:function(){return this.item[this.options.childrenProp]&&this.item[this.options.childrenProp].length>0},hasHandle:function(){return!!this.$scopedSlots.handler},normalizedClassProp:function(){var t=this.item[this.options.classProp];return t?Array.isArray(t)?t:("undefined"==typeof a||r(a),[t]):[]},itemClasses:function(){var t=this.isDragging?["is-dragging"]:[];return["nestable-item".concat(this.isCopy?"-copy":""),"nestable-item".concat(this.isCopy?"-copy":"","-").concat(this.item[this.options.keyProp])].concat(t,u(this.normalizedClassProp))}},methods:{onMouseEnter:function(t){if(this.options.dragItem){if(!t.movementY)return this.sendNotification(t);this.moveDown=t.movementY>0,this.breakPoint=t.srcElement.getBoundingClientRect().height/2}},onMouseLeave:function(){this.breakPoint=null},onMouseMove:function(t){if(this.breakPoint){var e=t.offsetY-this.breakPoint;this.moveDown&&e<this.breakPoint/4||!this.moveDown&&e>-this.breakPoint/4||this.sendNotification(t)}},sendNotification:function(t){this.breakPoint=null;var e=this.item||this.$parent.item;this.notifyMouseEnter(this.group,t,this.listId,e)}}};function p(t,e,n,i,o,r,s,a,l,u){"function"==typeof s&&(l=a,a=s,s=!1);const c="function"==typeof n?n.options:n;let d;if(t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,o&&(c.functional=!0)),i&&(c._scopeId=i),r?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=d):e&&(d=s?function(){e.call(this,u(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),d)if(c.functional){const t=c.render;c.render=function(e,n){return d.call(n),t(e,n)}}else{const t=c.beforeCreate;c.beforeCreate=t?[].concat(t,d):[d]}return n}const f=h;h.__file="NestableItem.vue";var m=p({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{class:t.itemClasses},[n("div",{staticClass:"nestable-item-content",on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave,mousemove:t.onMouseMove}},[t._t("default",null,{index:t.index,item:t.item,isChild:t.isChild})],2),t._v(" "),t.hasChildren?n("ol",{staticClass:"nestable-list"},[t._l(t.item[t.options.childrenProp],function(e,i){return[n("NestableItem",{key:i,attrs:{index:i,item:e,options:t.options,"is-copy":t.isCopy,"is-child":""},scopedSlots:t._u([t._l(Object.keys(t.$scopedSlots),function(e){return{key:e,fn:function(n){return[t._t(e,null,null,n)]}}})])})]})],2):t._e()])},staticRenderFns:[]},void 0,f,void 0,!1,void 0,void 0,void 0),y={name:"Placeholder",mixins:[d],props:{index:{type:Number,required:!1,default:null},options:{type:Object,required:!1,default:function(){return{}}}},inject:["listId","group"],computed:{isDragging:function(){return this.options.dragItem}},methods:{onMouseEnter:function(t){this.options.dragItem&&this.notifyMouseEnter(this.group,t,this.listId,null)}}};const g=y;y.__file="Placeholder.vue";var v=p({render:function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("div",{staticClass:"nestable-list-empty",on:{mouseenter:this.onMouseEnter}},[this._t("default")],2)])},staticRenderFns:[]},void 0,g,void 0,!1,void 0,void 0,void 0),b={name:"VueNestable",components:{NestableItem:m,Placeholder:v},mixins:[{methods:{getPathById:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value,i=[];return n.every(function(n,o){if(n[e.keyProp]===t)i.push(o);else if(n[e.childrenProp]){var r=e.getPathById(t,n[e.childrenProp]);r.length&&(i=i.concat(o).concat(r))}return 0===i.length}),i},getItemByPath:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value,i=null;return t.forEach(function(t){var o=i&&i[e.childrenProp]?i[e.childrenProp]:n;i=o[t]}),i},getItemDepth:function(t){var e=1;if(t[this.childrenProp]&&t[this.childrenProp].length>0){var n=t[this.childrenProp].map(this.getItemDepth);e+=Math.max.apply(Math,u(n))}return e},getSplicePath:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},i=e.numToRemove||0,o=e.itemsToInsert||[],r=t.length-1,a=n;return t.forEach(function(t,n){if(n===r)a.$splice=[[t,i].concat(u(o))];else{var l={};a[t]=s({},e.childrenProp,l),a=l}}),n},getRealNextPath:function(t,e){var n=t.length-1,i=e.length-1;if(t.length<e.length){var o=!1;return e.map(function(r,s){return o?s===i?r+1:r:"number"!=typeof t[s]?r:e[s]>t[s]&&s===n?(o=!0,r-1):r})}if(t.length===e.length&&e[i]>t[i]){var r=this.getItemByPath(e);if(r[this.childrenProp]&&r[this.childrenProp].length&&!this.isCollapsed(r))return e.slice(0,-1).concat(e[i]-1).concat(0)}return e}}},d],props:{value:{type:Array,required:!0,default:function(){return[]}},threshold:{type:Number,required:!1,default:30},maxDepth:{type:Number,required:!1,default:10},keyProp:{type:String,required:!1,default:"id"},classProp:{type:String,required:!1,default:null},group:{type:[String,Number],required:!1,default:function(){return Math.random().toString(36).slice(2)}},childrenProp:{type:String,required:!1,default:"children"},collapsed:{type:Boolean,required:!1,default:!1}},provide:function(){return{listId:this.listId,group:this.group,onDragEnd:this.onDragEnd}},data:function(){return{itemsOld:null,dragItem:null,mouse:{last:{x:0},shift:{x:0}},el:null,elCopyStyles:null,isDirty:!1,collapsedGroups:[],listId:Math.random().toString(36).slice(2)}},computed:{listIsEmpty:function(){return 0===this.value.length},itemOptions:function(){return{dragItem:this.dragItem,keyProp:this.keyProp,classProp:this.classProp,childrenProp:this.childrenProp}},listStyles:function(){var t=document.querySelector(".nestable-"+this.group+" .nestable-item-"+this.dragItem[this.keyProp]),e={};return t&&(e.width="".concat(t.clientWidth,"px")),this.elCopyStyles&&(e=l({},e,this.elCopyStyles)),e}},created:function(){var t=function t(e,n){return e.map(function(e){return l({},e,s({},n,e[n]?t(e[n],n):[]))})}(this.value,this.childrenProp);this.$emit("input",t),this.isDirty=!1,this.registerNestable(this)},beforeDestroy:function(){this.stopTrackMouse()},methods:{startTrackMouse:function(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("touchend",this.onDragEnd),document.addEventListener("touchcancel",this.onDragEnd),document.addEventListener("keydown",this.onKeyDown)},stopTrackMouse:function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchend",this.onDragEnd),document.removeEventListener("touchcancel",this.onDragEnd),document.removeEventListener("keydown",this.onKeyDown),this.elCopyStyles=null},onDragStart:function(t,e){var n,i;t&&(t.preventDefault(),t.stopPropagation()),this.el=(n=t.target,i=".nestable-item",n.closest(i)),this.startTrackMouse(),this.dragItem=e,this.itemsOld=this.value,this.onMouseMove(t)},onDragEnd:function(t,e){t&&t.preventDefault(),this.stopTrackMouse(),this.el=null,e?this.dragRevert():this.dragApply()},onKeyDown:function(t){27===t.which&&this.onDragEnd(null,!0)},getXandYFromEvent:function(t){var e=t.clientX,n=t.clientY,i=t.targetTouches;if(i){var o=i[0];e=o.clientX,n=o.clientY;var r=new Event("mouseenter"),s=document.elementFromPoint(e,n),a=s&&(s.closest(".nestable-item-content")||s.closest(".nestable-list-empty"));a&&a.dispatchEvent(r)}return{clientX:e,clientY:n}},onMouseMove:function(t){var e,n,i=this.getXandYFromEvent(t),o=i.clientX,r=i.clientY,s={transform:"translate("+o+"px, "+r+"px)"},a=document.querySelector(".nestable-"+this.group+" .nestable-drag-layer > .nestable-list");if(this.elCopyStyles){if(this.elCopyStyles=l({},this.elCopyStyles,s),a)for(var u in s)s.hasOwnProperty(u)&&(a.style[u]=s[u]);var c=o-this.mouse.last.x;c>=0&&this.mouse.shift.x>=0||c<=0&&this.mouse.shift.x<=0?this.mouse.shift.x+=c:this.mouse.shift.x=0,this.mouse.last.x=o,Math.abs(this.mouse.shift.x)>this.threshold&&(this.mouse.shift.x>0?this.tryIncreaseDepth(this.dragItem):this.tryDecreaseDepth(this.dragItem),this.mouse.shift.x=0)}else{var d=(e=this.el,n=e.getBoundingClientRect(),{top:Math.round(n.top),left:Math.round(n.left)});this.elCopyStyles=l({marginTop:"".concat(d.top-r,"px"),marginLeft:"".concat(d.left-o,"px")},s)}},moveItem:function(t){var e=t.dragItem,n=t.pathFrom,i=t.pathTo,r=this.getRealNextPath(n,i),s=this.getSplicePath(n,{numToRemove:1,childrenProp:this.childrenProp}),a=this.getSplicePath(r,{numToRemove:0,itemsToInsert:[e],childrenProp:this.childrenProp}),l=this.value;l=o()(l,s),l=o()(l,a),this.isDirty=!0,this.pathTo=i,this.$emit("input",l)},tryIncreaseDepth:function(t){var e=this.getPathById(t[this.keyProp]),n=e[e.length-1],i=e.length+this.getItemDepth(t);if(n>0&&i<=this.maxDepth){var o=this.getItemByPath(e.slice(0,-1).concat(n-1));if(o[this.childrenProp]&&(!o[this.childrenProp].length||!this.isCollapsed(o))){var r=e.slice(0,-1).concat(n-1).concat(o[this.childrenProp].length);this.moveItem({dragItem:t,pathFrom:e,pathTo:r})}}},tryDecreaseDepth:function(t){var e=this.getPathById(t[this.keyProp]),n=e[e.length-1];if(e.length>1&&n+1===this.getItemByPath(e.slice(0,-1))[this.childrenProp].length){var i=e.slice(0,-1);i[i.length-1]+=1,this.moveItem({dragItem:t,pathFrom:e,pathTo:i})}},onMouseEnter:function(t,e,n){t&&(t.preventDefault(),t.stopPropagation());var i=this.dragItem;if(null===n||i[this.keyProp]!==n[this.keyProp]){var o,r=this.getPathById(i[this.keyProp]);if(e===this.listId||0!==r.length)if(o=null===n?r.length>0?[]:[0]:this.getPathById(n[this.keyProp]),!(this.getRealNextPath(r,o).length+(this.getItemDepth(i)-1)>this.maxDepth)){var s={};if(this.collapsed&&r.length>1){var a=this.getItemByPath(r.slice(0,-1));1===a[this.childrenProp].length&&(s=this.onToggleCollapse(a,!0))}this.moveItem({dragItem:i,pathFrom:r,pathTo:o},s)}}},isCollapsed:function(t){return!!(this.collapsedGroups.indexOf(t[this.keyProp])>-1^this.collapsed)},dragApply:function(){this.$emit("change",this.dragItem,{pathTo:this.pathTo}),this.pathTo=null,this.itemsOld=null,this.dragItem=null,this.isDirty=!1},dragRevert:function(){this.$emit("input",this.itemsOld),this.pathTo=null,this.itemsOld=null,this.dragItem=null,this.isDirty=!1}}};const P=b;b.__file="VueNestable.vue";var _=p({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["nestable","nestable-"+t.group]},[n("ol",{staticClass:"nestable-list nestable-group"},[t.listIsEmpty?n("Placeholder",{attrs:{options:t.itemOptions}},[t._t("placeholder",[t._v("\n        No content\n      ")])],2):t._e(),t._v(" "),t._l(t.value,function(e,i){return[n("NestableItem",{key:i,attrs:{index:i,item:e,options:t.itemOptions},scopedSlots:t._u([t._l(Object.keys(t.$scopedSlots),function(e){return{key:e,fn:function(n){return[t._t(e,null,null,n)]}}})])})]})],2),t._v(" "),t.dragItem?[n("div",{staticClass:"nestable-drag-layer"},[n("ol",{staticClass:"nestable-list",style:t.listStyles},[n("NestableItem",{attrs:{item:t.dragItem,options:t.itemOptions,"is-copy":!0},scopedSlots:t._u([t._l(Object.keys(t.$scopedSlots),function(e){return{key:e,fn:function(n){return[t._t(e,null,null,n)]}}})])})],1)])]:t._e()],2)},staticRenderFns:[]},void 0,P,void 0,!1,void 0,void 0,void 0),w={name:"VueNestableHandle",mixins:[d],props:{item:{type:Object,required:!1,default:function(){return{}}}},inject:["group","onDragEnd"],methods:{dragstart:function(t){var e=this.item||this.$parent.item;this.notifyDragStart(this.group,t,e)},touchend:function(t){this.onDragEnd(t)},touchmove:function(t){this.notifyMouseMove(this.group,t)}}};const x=w;w.__file="VueNestableHandle.vue";var $=p({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"nestable-handle",attrs:{draggable:""},on:{dragstart:this.dragstart,touchstart:this.dragstart,touchend:this.touchend,touchmove:this.touchmove}},[this._t("default")],2)},staticRenderFns:[]},void 0,x,void 0,!1,void 0,void 0,void 0),k={install:function(t,e){t.component("VueNestable",_),t.component("VueNestableHandle",$)}};e.default=k},25:function(t,e,n){"use strict";t.exports=function(t,e,n,i,o,r,s,a){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,o,r,s,a],c=0;(l=new Error(e.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},26:function(t,e){t.exports=UIkit.util},39:function(t,e,n){"use strict";n.r(e);var i=n(26),o=n(2);window.isMobile=!1,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(window.isMobile=!0),null!=navigator.userAgent.match(/iPad/i)&&(window.isMobile=!0),Vue.ready({name:"site",el:"#site",mixins:[Vue2Filters.mixin],data(){return _.merge({edit:{},menu:this.$session.get("site.menu",{}),menus:[],nodes:[],treedata:[],selected:[]},window.$data)},created(){this.Menus=this.$resource("api/site/menu{/id}"),this.Nodes=this.$resource("api/site/node{/id}");const t=this;this.load().then(()=>{t.$set(t,"menu",_.find(t.menus,{id:t.menu.id})||t.menus[0])}),this.$watch(t=>(t.menu,t.nodes,Date.now()),()=>{this.tree("update")},{deep:!0}),Object(i.on)(window,"resize",()=>{this.propWidth()})},mounted(){},methods:{propWidth(){Object(i.css)(this.$refs["table-header"],{minWidth:"100%",width:this.$refs.nestable.$el.offsetWidth?this.$refs.nestable.$el.offsetWidth:"100%",opacity:"1"})},change(t,e){if(!e||!e.pathTo)return;const n=this;var i=(t,e)=>{_.forEach(t,(t,n)=>{t.priority=n,t.parent_id=e,t.children.length&&i(t.children,t.id)})};i(this.treedata,0),n.Nodes.save({id:"updateOrder"},{menu:n.menu.id,nodes:n.tree("flatten")}).then(n.load,()=>{n.$notify("Reorder failed.","danger")})},tree(...t){const[e,...n]=arguments,i=this,o={unflatten(){let[t,e,n]=arguments;const i=this;n=void 0!==n?n:[],e=void 0!==e?e:{id:0};const o=_.filter(t,t=>t.parent_id==e.id);return _.isEmpty(o)||(0==e.id?n=o:e.children=o,_.each(o,e=>{i.unflatten(t,e)})),n},flatten(){const t={children:i.treedata},e=(t,n,i,o)=>Array.prototype.concat.apply(t.map(t=>({...t,level:i||1,order:t.priority||0})),t.map(t=>e(n(t)||[],n,(i||1)+1))),n=t=>t.children;return e(n(t),n).map(t=>delete t.children&&t)},update(){let t=i.nodes.map(t=>(t.class="check-item",t));t=_(t).filter({menu:i.menu.id}).sortBy("priority").value(),i.treedata=this.unflatten(t),i.$nextTick(()=>{i.propWidth()})}};return!(!o[e]||"function"!=typeof o[e])&&o[e](n)},load(){const t=this;return Vue.Promise.all([this.Menus.query(),this.Nodes.query()]).then(e=>{t.$set(t,"menus",e[0].data),t.$set(t,"nodes",e[1].data),t.$set(t,"selected",[]),_.find(t.menus,{id:t.menu.id})||t.$set(t,"menu",t.menus[0])},()=>{t.$notify("Loading failed.","danger")})},isActive(t){return this.menu&&this.menu.id===t.id},selectMenu(t){this.$set(this,"selected",[]),this.$set(this,"menu",t),this.$session.set("site.menu",t)},removeMenu(t){this.Menus.delete({id:t.id}).finally(this.load)},editMenu(t){t||(t={id:"",label:""}),this.$set(this,"edit",_.merge({positions:[]},t)),this.$refs.modal.open()},saveMenu(t){this.Menus.save({menu:t}).then(this.load,function(t){this.$notify(t.data,"danger")}),this.cancel()},getMenu(t){return _.find(this.menus,e=>_.includes(e.positions,t))},cancel(){this.$refs.modal.close()},status(t){const e=this.getSelected();e.forEach(e=>{e.status=t}),this.Nodes.save({id:"bulk"},{nodes:e}).then(function(){this.load(),this.$notify("Page(s) saved.")})},moveNodes(t){const e=this,n=this.getSelected();var i=function(t){_.forEach(t.children,t=>{if(!_.filter(n,e=>e.id==t.id).length){const i=Object.keys(e.nodes).find(n=>e.nodes[n].id===t.id);e.nodes[i].parent_id=null,n.push(e.nodes[i])}t.children&&i(t)})};n.forEach(e=>{e.parent_id=null,e.menu=t,i(e)}),this.Nodes.save({id:"bulk"},{nodes:n}).then(function(){this.load(),this.$notify(this.$trans("Pages moved to %menu%.",{menu:_.find(this.menus.concat({id:"trash",label:this.$trans("Trash")}),"id",t).label}))})},removeNodes(){if("trash"!==this.menu.id){this.getSelected().forEach(t=>{t.status=0}),this.moveNodes("trash")}else this.Nodes.delete({id:"bulk"},{ids:this.selected}).then(function(){this.load(),this.$notify("Page(s) deleted.")})},getType(t){return _.find(this.types,{id:t.type})},getSelected(){return this.nodes.filter(function(t){return this.isSelected(t)},this)},isSelected(t,e){const n=this;return _.isArray(t)?_.every(t,t=>n.isSelected(t,e),this):-1!==this.selected.indexOf(t.id)&&(!e||!this.tree[t.id]||this.isSelected(this.tree[t.id],!0))},toggleSelect(t){const e=this.selected.indexOf(t.id);-1==e?this.selected.push(t.id):this.selected.splice(e,1)},label(t){return _.result(_.find(this.menus,"id",t),"label")},protected:t=>_.reject(t,{protected:!0}),trash:t=>_.reject(t,{id:"trash"}),divided:t=>_.reject(t,{fixed:!0}).concat({divider:!0},_.filter(t,{fixed:!0})),menuLabel(t){return this.$trans("(Currently set to: %menu%)",{menu:this.label(t)})},isFrontpage:t=>"/"===t.url,type(t){return this.getType(t)||{}},setFrontpage(t){this.Nodes.save({id:"frontpage"},{id:t.id}).then(function(){this.load(),this.$notify("Frontpage updated.")})},toggleStatus(t){t.status=1===t.status?0:1,this.Nodes.save({id:t.id},{node:t}).then(function(){this.load(),this.$notify("Page saved.")})}},computed:{showDelete(){const t=this;return this.showMove&&_.every(this.getSelected(),e=>!(t.getType(e)||{}).protected,this)},showMove(){return this.isSelected(this.getSelected(),!0)},isMobile:()=>window.isMobile},components:{VueNestable:o.VueNestable,VueNestableHandle:o.VueNestableHandle}})}});