!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=11)}({11:function(t,e){t.exports={name:"widget",el:"#widget-edit",mixins:[window.Widgets,Theme.Mixins.Helper],theme:{hiddenHtmlElements:["#widget-edit > div:first-child"],elements:function(){var t=this,e=this;return{title:{scope:"breadcrumbs",type:"caption",caption:function(){var i=t.$options.filters.trans;return e.widget.id&&i?i("Edit Widget"):i("Add Widget")}},savewidget:{scope:"topmenu-left",type:"button",caption:"Save",class:"uk-button tm-button-success",spinner:function(){return e.processing},on:{click:function(){return e.submit()}},priority:1},close:{scope:"topmenu-left",type:"button",caption:e.widget.title?"Close":"Cancel",class:"uk-button uk-button-text",attrs:{href:function(){return e.$url.route("/admin/site/widget")}},disabled:function(){return e.processing},priority:0}}}},data:function(){return _.merge({form:{},sections:[],active:0,processing:!1},window.$data)},created:function(){var t,e=[],i=_.kebabCase(this.widget.type);_.forIn(this.$options.components,function(t,i){t.section&&e.push(_.extend({name:i,priority:0},t.section))}),e=_.sortBy(e.filter(function(n){return null===(t=n.name.match("(.+)--(.+)"))?!_.find(e,{name:"".concat(i,"--").concat(n.name)}):t[1]==i},this),"priority"),this.$set(this,"sections",e)},mounted:function(){this.tab=UIkit.tab("#widget-tab",{connect:"#widget-content"});var t=this;if(UIkit.util.on(this.tab.connects,"show",function(e,i,n){if(i!=t.tab)return!1;for(var o in i.toggles)if(i.toggles[o].parentNode.classList.contains("uk-active")){t.active=o;break}}),this.$watch("active",function(t){this.tab.show(t)}),this.$state("active"),!this.widget.id){var e=new RegExp("[?&]position=([^&]*)").exec(location.search);this.widget.position=e&&decodeURIComponent(e[1].replace(/\+/g," "))||""}},methods:{submit:function(){var t=this;this.$validator.validateAll().then(function(e){e&&(t.processing=!0,t.save())})},save:function(){var t=this;this.$trigger("save:widget",{widget:this.widget}),this.$resource("api/site/widget{/id}").save({id:this.widget.id},{widget:this.widget}).then(function(e){var i=e.data;this.$trigger("saved:widget"),this.widget.id||window.history.replaceState({},"",this.$url.route("admin/site/widget/edit",{id:i.widget.id})),this.$set(this,"widget",i.widget),this.$notify("Widget saved."),setTimeout(function(){t.processing=!1},500)},function(t){this.$notify(t.data,"danger")})},cancel:function(){this.$trigger("cancel:widget")}}},Vue.ready(t.exports)}});